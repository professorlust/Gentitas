// <auto-generated>
//     This code was generated with love by Gentitas.
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>

using Entitas;
using UnityEngine;
using System.Collections.Generic;

{{#each modules}}
namespace {{@key}}.Contracts { {{#each initializeContracts}}{{#if namespaceValue}}
    namespace {{namespaceValue}} { {{/if}}
        namespace Base {
            public abstract class {{nameUpperValue}}: IInitializeSystem {
                Contexts contexts;

                {{#each ../contexts}}
                protected {{classNameValue}} {{nameValue}};
                {{/each}}

                public {{nameUpperValue}} () : base() { 
                    this.contexts = Contexts.sharedInstance;

                    {{#each ../contexts}}
                    {{nameValue}} = contexts.{{nameValue}};
                    {{/each}}
                }

                public void Initialize() { Act(); }

                protected virtual void Act () {
                    Debug.Log("Not implemented contract: {{moduleNameValue}}.{{nameUpperValue}}");
                }
            }
        }

        public partial class {{nameUpperValue}}: Base.{{nameUpperValue}} {
            public {{nameUpperValue}} () : base() { }
        }{{#if namespaceValue}}
    } {{/if}}
{{/each}}
}

{{/each}}

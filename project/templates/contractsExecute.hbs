// <auto-generated>
//     This code was generated with love by Gentitas.
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>

using Entitas;
using UnityEngine;
using System.Collections.Generic;

{{#each modules}}
namespace {{@key}}.Contracts {
{{#each executeContracts}}
    {{#if namespaceValue}}namespace {{namespaceValue}} { {{/if}}
        namespace Base {
            public abstract class {{nameUpperValue}}: IExecuteSystem {
                Contexts contexts;

                {{#each ../contexts}}
                protected {{classNameValue}} {{nameValue}};
                {{/each}}

                public {{nameUpperValue}} (Contexts contexts) : base() { 
                    this.contexts = contexts;

                    {{#each ../contexts}}
                    {{nameValue}} = contexts.{{nameValue}};
                    {{/each}}
                }

                public void Execute() { Act(); }

                protected virtual void Act () {
                    Debug.Log("Not implemented contract: {{moduleNameValue}}.{{nameUpperValue}}");
                }
            }
        }

        public partial class {{nameUpperValue}}: Base.{{nameUpperValue}} {
            public {{nameUpperValue}} (Contexts contexts) : base(contexts) { }
        }
    {{#if namespaceValue}} } {{/if}}
    
{{/each}}

}

{{/each}}
